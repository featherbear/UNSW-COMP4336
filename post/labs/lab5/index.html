<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Lab 5 - COMP4336 Musings</title><meta name=renderer content=webkit><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta name=theme-color content=#f8f5ec><meta name=msapplication-navbutton-color content=#f8f5ec><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f8f5ec><meta name=author content=z5206677><meta name=description content="Choice of modulation and coding affects the transmission data rates in wireless networks."><meta name=keywords content=Hugo,theme,even><meta name=generator content="Hugo 0.58.2 with theme even"><link rel=canonical href=../../../post/labs/lab5/><link rel=apple-touch-icon sizes=180x180 href=../../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../favicon-16x16.png><link rel=manifest href=../../../manifest.json><link rel=mask-icon href=../../../safari-pinned-tab.svg color=#5bbad5><link href=../../../dist/even.c2a46f00.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><link rel=stylesheet href=../../../css/typedjs.shortcode.css><meta property=og:title content="Lab 5"><meta property=og:description content="Choice of modulation and coding affects the transmission data rates in wireless networks."><meta property=og:type content=article><meta property=og:url content=/post/labs/lab5/><meta property=article:published_time content=2020-07-05T15:26:42+10:00><meta property=article:modified_time content=2020-07-05T15:26:42+10:00><meta itemprop=name content="Lab 5"><meta itemprop=description content="Choice of modulation and coding affects the transmission data rates in wireless networks."><meta itemprop=datePublished content=2020-07-05T15:26:42&#43;10:00><meta itemprop=dateModified content=2020-07-05T15:26:42&#43;10:00><meta itemprop=wordCount content=1307><meta itemprop=keywords content><meta name=twitter:card content=summary><meta name=twitter:title content="Lab 5"><meta name=twitter:description content="Choice of modulation and coding affects the transmission data rates in wireless networks."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=../../../ class=logo>COMP4336 Musings</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=../../../><li class=mobile-menu-item>Home</li></a><a href=https://github.com/featherbear/UNSW-COMP4336><li class=mobile-menu-item>GitHub</li></a><a href=../../../categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=../../../ class=logo>COMP4336 Musings</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=../../../>Home</a></li><li class=menu-item><a class=menu-item-link href=https://github.com/featherbear/UNSW-COMP4336>GitHub</a></li><li class=menu-item><a class=menu-item-link href=../../../categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Lab 5</h1><div class=post-meta><span class=post-time>2020-07-05</span><div class=post-category><a href=../../../categories/labs/>Labs</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#task-1-channel-variation-due-to-change-of-tx-rx-separation>Task 1 - Channel variation due to change of Tx-Rx separation</a><ul><li><a href=#analysis>Analysis</a></li><li><a href=#comment>Comment</a></li></ul></li><li><a href=#task-2-channel-variation-due-to-obstacles>Task 2 - Channel variation due to obstacles</a><ul><li><a href=#analysis-1>Analysis</a></li></ul></li><li><a href=#task-3-channel-variation-due-to-interference>Task 3 - Channel variation due to interference</a><ul><li><a href=#analysis-2>Analysis</a></li></ul></li></ul></li></ul></nav></div></div><div class=post-content><p><em>Choice of modulation and coding affects the transmission data rates in wireless networks. There are many combinations of modulation and coding implemented in consumer WiFi chipsets. These combinations, known as modulation and coding schemes (MCSs), are standardized by IEEE 802.11. WiFi networks monitor the channel all the time and switch to an appropriate MCS depending on the channel condition, which also affect the instantaneous data rate of the wireless communication. In this lab, you will use simple tools, such as laptops, phones, and WiFi packet capture tools (e.g., Wireshark), to observe such dynamic variation of data rates and identify the MCSs being used by the WiFi network.</em></p><hr><p><em>Note: I am using the provided packet captures, as my wireless card was not able to capture the MCS Index data values.</em></p><hr><h2 id=task-1-channel-variation-due-to-change-of-tx-rx-separation>Task 1 - Channel variation due to change of Tx-Rx separation</h2><blockquote><p>Distance affects signal strength (RSS) and hence SNR. Weaker SNR makes it difficult to detect symbols from complex MCS, and vice versa. As such, WiFi chipsets are expected to switch to simpler MCS when Tx-Rx separation is increased, and vice versa.</p></blockquote><p>Start WiFi data transmissions between a phone and a laptop and then move the phone away from the laptop and then bring it closer again, slowly. Keep capturing WiFi packet in Wireshark during this time. Analyse RSS, MCS as well as the data rates from the Wireshark traces and try to explain how change in distance affects MCS/data-rate.</p><ul><li><a href=task1/task1.pcapng>Wireshark Capture</a></li><li><a href=task1/task1.csv>CSV</a></li></ul><p><code>tshark -r &quot;task1.pcapng&quot; -T fields -e frame.number -e frame.time -e wlan_radio.signal_dbm -e wlan_radio.11n.mcs_index -e wlan_radio.data_rate -e wlan_radio.11n.greenfield -E header=y -E separator=, -E quote=d -E occurrence=f &gt; task1.csv</code></p><table><thead><tr><th align=center>Graphs</th></tr></thead><tbody><tr><td align=center><img src=task1/wlan_radio.11n.mcs_index.png alt></td></tr><tr><td align=center><img src=task1/wlan_radio.data_rate.png alt></td></tr><tr><td align=center><img src=task1/wlan_radio.signal_dbm.png alt></td></tr><tr><td align=center><img src=task1/wlan_radio.11n.greenfield.png alt></td></tr></tbody></table><h3 id=analysis>Analysis</h3><ul><li>The <code>wlan_radio.11n.greenfield</code> value did not seem to have an apparent effect on the MCS Indices, Data Rate nor the RSS.</li><li>For all packets, the <code>wlan_radio.11n.short_gi</code> value was set to true, indicative that a guard interval of 400 ns was used.<br></li><li>The signal was weakest at around the 50 second mark; where the separation distance was at its maximum.</li></ul><p>The graphs for the MCS value and data rates are virtually identical in shape, which indicate a very strong if not 1-1 correlation between MCS and Data Rate values.</p><table><thead><tr><th align=center>MCS Index</th><th align=center>Data Rate (Mbps)</th></tr></thead><tbody><tr><td align=center>4</td><td align=center>43.33</td></tr><tr><td align=center>7</td><td align=center>72.22</td></tr><tr><td align=center>12</td><td align=center>86.67</td></tr><tr><td align=center>13</td><td align=center>115.56</td></tr><tr><td align=center>14</td><td align=center>130</td></tr><tr><td align=center>15</td><td align=center>144.44</td></tr></tbody></table><p>In comparing the MCS/Data Rate against the RSS values - it is evident that the Rate Rate drops as device separation increases, and increases when the two devices are drawn closer. Likewise, the MCS Index decreases when separated, and increases when brought together.</p><h3 id=comment>Comment</h3><p>When sorting the data points by RSS or MCS Index, the graphs indicate that there is a relationship between the MCS Index / Data Rate and Received Signal Strength. Sorting by RSS best produces this observation, as seen by the trend of increasing MCS Index values.</p><table><thead><tr><th align=center>Sort by MCS</th><th align=center>Sort by RSS</th></tr></thead><tbody><tr><td align=center><img src=task1/sort.by.mcs/wlan_radio.11n.mcs_index.png alt></td><td align=center><img src=task1/sort.by.rss/wlan_radio.11n.mcs_index.png alt></td></tr><tr><td align=center><img src=task1/sort.by.mcs/wlan_radio.signal_dbm.png alt></td><td align=center><img src=task1/sort.by.rss/wlan_radio.signal_dbm.png alt></td></tr></tbody></table><h2 id=task-2-channel-variation-due-to-obstacles>Task 2 - Channel variation due to obstacles</h2><blockquote><p>Obstacles between Tx-Rx affects signal strength (RSS) and hence SNR. As such, WiFi chipsets are expected to switch to simpler MCS when Tx-Rx path is obstructed, and vice versa.</p></blockquote><p>Start WiFi data transmissions between a phone and a laptop and then bring an obstacle, such as a sofa between them and then remove it again, slowly. Keep capturing WiFi packets in Wireshark during this time. Analyse RSS, MCS as well as the data rates from the Wireshark traces and try to explain how change in obstacle affects MCS/data-rate.</p><ul><li><a href=task2/task2.pcapng>Wireshark Capture</a></li><li><a href=task2/task2.csv>CSV</a></li></ul><p><em>A sofa, door, human body and cooking pot (cumulatively added) was used to capture the results.</em></p><p><code>tshark -r &quot;task2.pcapng&quot; -T fields -e frame.number -e frame.time -e wlan_radio.signal_dbm -e wlan_radio.11n.mcs_index -e wlan_radio.data_rate -E header=y -E separator=, -E quote=d -E occurrence=f &gt; task2.csv</code></p><table><thead><tr><th align=center>Graphs</th></tr></thead><tbody><tr><td align=center><img src=task2/wlan_radio.11n.mcs_index.png alt></td></tr><tr><td align=center><img src=task2/wlan_radio.data_rate.png alt></td></tr><tr><td align=center><img src=task2/wlan_radio.signal_dbm.png alt></td></tr></tbody></table><h3 id=analysis-1>Analysis</h3><table><thead><tr><th align=center>MCS Index</th><th align=center>Data Rate (Mbps)</th></tr></thead><tbody><tr><td align=center>3</td><td align=center>28.89</td></tr><tr><td align=center>4</td><td align=center>43.33</td></tr><tr><td align=center>7</td><td align=center>72.22</td></tr><tr><td align=center>12</td><td align=center>86.67</td></tr><tr><td align=center>13</td><td align=center>115.56</td></tr><tr><td align=center>14</td><td align=center>130</td></tr><tr><td align=center>15</td><td align=center>144.44</td></tr></tbody></table><ul><li>Before any obstructions were placed in the way, the measured signal had an RSS of -55 dBm, a data rate of 144.44 Mbps, and an MCS index of 15.</li><li>When the sofa was added in-between the AP and the laptop (~15 seconds since start); the signal strength dropped marginally by about 3 dBm.</li><li>The closed door (~25s) caused the signal strength to drop by another ~3 dBm - but had also cause the MCS Index to change from 15 to 14.</li><li>Adding in the human body had not caused much of a change in strength.<br></li><li>When the cooking pot was added in (~50s), the signal strength had decreased to about -73 dBm (~16 dBm loss from the previous RSS values); and the MCS Index had changed to 11.</li><li>When walking back towards the laptop; the signal strength and MCS Index increased<ul><li>However the MCS Index did not return to an MCS of 15, but topped out at 12.</li></ul></li></ul><p>As more obstacles were added, the signal strength decreased; which had lowered the MCS Index and subsequently the Data Rate.<br>The human body did not make a large contribution to the loss of signal strength. The cooking pot however, did seem to cause a larger signal strength (and MCS Index) change. Even when brought nearer to the laptop, whilst the signal strength increased; the MCS Index did not return to its original value.</p><h2 id=task-3-channel-variation-due-to-interference>Task 3 - Channel variation due to interference</h2><blockquote><p>Interference from other wireless transmissions affects signal-to-noise-and-interference-ratio (SNIR). As such, WiFi chipsets are expected to switch to simpler MCS when there is severe interference, and vice versa.</p></blockquote><p>Start WiFi data transmissions between a phone and a laptop and keep capturing WiFi packets in Wireshark during this time. Also, turn on a smart TV and watch a video from the Internet. Now turn on a microwave oven nearby, which uses 2.4GHz (all microwave ovens do). You may find that the video stall in your smart TV due to severe interference in the WiFi network arising from the high-power use of 2.4GHz in the microwave. The microwave should also affect the WiFi transmission between the phone and the laptop. Analyse RSS, MCS as well as the data rates from the Wireshark traces and try to explain how the microwave operation affects MCS/data-rate.</p><ul><li><a href=task3/task3.pcapng>Wireshark Capture</a></li><li><a href=task3/task3.csv>CSV</a></li></ul><p>A tablet, phone and laptop were all loaded with the same video stream to be played concurrently for roughly three minutes; whilst a microwave was turned on.</p><p><code>tshark -r &quot;task3.pcapng&quot; -T fields -e frame.number -e frame.time -e wlan_radio.signal_dbm -e wlan_radio.11n.mcs_index -e wlan_radio.data_rate -e wlan_radio.noise_dbm -e wlan_radio.snr -E header=y -E separator=, -E quote=d -E occurrence=f &gt; task3.csv</code></p><h3 id=analysis-2>Analysis</h3><p><img src=task3/packet_frequency_histogram.png alt></p><p>The frequency histogram has been split into 10 bins, each class accounting for 18 seconds of the capture.</p><ul><li>At the 90 second mark, there were considerably many more packets recorded (about 10x more).<br></li><li>At the 144 second mark, there were 3x even more packets.</li></ul><table><thead><tr><th align=center>Graphs</th></tr></thead><tbody><tr><td align=center><img src=task3/wlan_radio.11n.mcs_index.png alt></td></tr><tr><td align=center><img src=task3/wlan_radio.data_rate.png alt></td></tr><tr><td align=center><img src=task3/wlan_radio.signal_dbm.png alt></td></tr><tr><td align=center><img src=task3/wlan_radio.noise_dbm.png alt></td></tr><tr><td align=center><img src=task3/wlan_radio.snr.png alt></td></tr></tbody></table><p>It is somewhat difficult to detect the impact of the microwave, as the MCS Index, Data Rate and RSS were constantly fluctuating. Throughout the 3 minute capture period; the MCS Index constantly fluctuated from 15 to 13.<br>As expected, a change in data rate followed, changing from 144.44 Mbps to 115.56 Mbps.</p><p>At times, the MCS Index would drop to 12, and the Data Rate would decrease to 68.67 Mbps - suggestive that high RF activity had cause interference, which made active data connections stall.</p><p>This can be seen most clearly at around 150 seconds; when the noise floor increased from -88 dBm to -84 dBm and stayed consistently at -84 dBm. When analysing the change in MCS Index and Data Rate, there were many more occasions where the MCS Index and Data Rate had dropped to MCS 12 - 86.67 Mbps. Consequently, the SNR decreased.<br>This is indicative of continuous RF interference from a source like a microwave.</p><p>We can infer from this observation that microwave usage causes RF interference - which makes the MCS Index and Data Rates of connections fluctuate consistently. It also causes devices to stall/drop out.</p></div><footer class=post-footer><nav class=post-nav><a class=prev href=../../../post/quizzes/week5/><i class="iconfont icon-left"></i><span class="prev-text nav-default">Week 5 Quiz</span>
<span class="prev-text nav-mobile">Prev</span></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:z5206677@student.unsw.edu.au class="iconfont icon-email" title=email></a><a href=https://www.linkedin.com/in/andrewjinmengwong/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://github.com/featherbear class="iconfont icon-github" title=github></a><a href=https://www.instagram.com/_andrewjwong/ class="iconfont icon-instagram" title=instagram></a><a href=../../../index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2020
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Andrew Wong (z5206677)</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=../../../dist/even.26188efa.min.js></script><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$'],['\\(','\\)']]},showProcessingMessages:false,messageStyle:'none'};</script><script async src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-107434487-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=../../../js/typed.js@2.0.9></script><script src=../../../js/typedjs.shortcode.js></script></body></html>